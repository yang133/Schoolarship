!function t(d,c,g){function a(i,e){if(!c[i]){if(!d[i]){var h="function"==typeof require&&require;if(!e&&h){return h(i,!0)}if(f){return f(i,!0)}throw new Error("Cannot find module '"+i+"'")}var j=c[i]={exports:{}};d[i][0].call(j.exports,function(k){var l=d[i][1][k];return a(l?l:k)},j,j.exports,t,d,c,g)}return c[i].exports}for(var f="function"==typeof require&&require,b=0;b<g.length;b++){a(g[b])}return a}({1:[function(a,c){function d(b){m.push(b);h||(h=!0,s(n))}function A(b){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(b)||b}function n(){h=!1;var b=m;m=[],b.sort(function(y,B){return y.uid_-B.uid_});var x=!1;b.forEach(function(y){var B=y.takeRecords();r(y),B.length&&(y.callback_(B,y),x=!0)}),x&&n()}function r(b){b.nodes_.forEach(function(y){var x=z.get(y);x&&x.forEach(function(B){B.observer===b&&B.removeTransientObservers()})})}function j(b){this.callback_=b,this.nodes_=[],this.records_=[],this.uid_=++l}function v(b){return b===f||b===o}function p(x,b){return x===b?x:f&&v(x)?f:null}function u(b,y,x){this.observer=b,this.target=y,this.options=x,this.transientObservedNodes=[]}var g=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var e=window.WeakMap;if("undefined"==typeof e){var w=Object.defineProperty,k=Date.now()%1000000000;e=function(){this.name="__st"+(1000000000*Math.random()>>>0)+(k+++"__")},e.prototype={set:function(b,y){var x=b[this.name];return x&&x[0]===b?x[1]=y:w(b,this.name,{value:[b,y],writable:!0}),this},get:function(b){var x;return(x=b[this.name])&&x[0]===b?x[1]:void 0},"delete":function(b){var y=b[this.name];if(!y){return !1}var x=y[0]===b;return y[0]=y[1]=void 0,x},has:function(b){var x=b[this.name];return x?x[0]===b:!1}}}var z=new e;var s=window.msSetImmediate;if(!s){var i=[];var q=String(Math.random());window.addEventListener("message",function(b){if(b.data===q){var x=i;i=[],x.forEach(function(y){y()})}}),s=function(b){i.push(b),window.postMessage(q,"*")}}var h=!1,m=[],l=0;j.prototype={observe:function(b,y){if(b=A(b),!y.childList&&!y.attributes&&!y.characterData||y.attributeOldValue&&!y.attributes||y.attributeFilter&&y.attributeFilter.length&&!y.attributes||y.characterDataOldValue&&!y.characterData){throw new SyntaxError}var x=z.get(b);x||z.set(b,x=[]);for(var C,B=0;B<x.length;B++){if(x[B].observer===this){C=x[B],C.removeListeners(),C.options=y;break}}C||(C=new u(this,b,y),x.push(C),this.nodes_.push(b)),C.addListeners()},disconnect:function(){this.nodes_.forEach(function(b){for(var y=z.get(b),x=0;x<y.length;x++){var B=y[x];if(B.observer===this){B.removeListeners(),y.splice(x,1);break}}},this),this.records_=[]},takeRecords:function(){var b=this.records_;return this.records_=[],b}};var o,f;u.prototype={enqueue:function(x){var B=this.observer.records_,y=B.length;if(B.length>0){var b=B[y-1],C=p(b,x);if(C){return void (B[y-1]=C)}}else{d(this.observer)}B[y]=x},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(b){var x=this.options;x.attributes&&b.addEventListener("DOMAttrModified",this,!0),x.characterData&&b.addEventListener("DOMCharacterDataModified",this,!0),x.childList&&b.addEventListener("DOMNodeInserted",this,!0),(x.childList||x.subtree)&&b.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(b){var x=this.options;x.attributes&&b.removeEventListener("DOMAttrModified",this,!0),x.characterData&&b.removeEventListener("DOMCharacterDataModified",this,!0),x.childList&&b.removeEventListener("DOMNodeInserted",this,!0),(x.childList||x.subtree)&&b.removeEventListener("DOMNodeRemoved",this,!0)},removeTransientObservers:function(){var b=this.transientObservedNodes;this.transientObservedNodes=[],b.forEach(function(x){this.removeListeners_(x);for(var B=z.get(x),y=0;y<B.length;y++){if(B[y]===this){B.splice(y,1);break}}},this)}},g||(g=j),c.exports=g},{}],2:[function(g,a){var k,b,e,f,c,l,i=function(d,h){return function(){return d.apply(h,arguments)}},j=[].slice;l=g("tools_utils");k=g("app_dimension");e=g("page_dimension");f=g("people_dimension");c=g("system_dimension");b=function(){function d(){this.callback=i(this.callback,this),this.defaultSamplingFunc=i(this.defaultSamplingFunc,this),this.options=l.assignObj({},this.defaultOptions),this.started=!1,this._setup(),this.identityWindow(),this.initialCSFields(),this.initialPSFields(),this.commond_stack=[]}return d.prototype.version="2.1.1",d.prototype.circleHost=("https:"===document.location.protocol?"https://":"http://")+"report.niwodai.com",d.prototype.defaultOptions={hashtag:!1,touch:!1,bot:!0,pathCaseSensitive:!0,scheme:("https:"===document.location.protocol?"https://":"http://"),host:"report.niwodai.com"},d.prototype.customs={},d.prototype._setup=function(){return this.app={},this.people={},this.page={},this.system={}},d.prototype.pushToStack=function(){var h=this.commond_stack;return h.push.apply(h,arguments)},d.prototype.setCustom=function(){var h,m;for(h in arguments[0]){m=arguments[0][h],this.customs[h]=m}return this.customs},d.prototype.setTrackerScheme=function(h){var m;return h&&l.isString(h)&&("http"===(m=h.toLocaleLowerCase())||"https"===m)?this.options.scheme=h+"://":void 0},d.prototype.setAppkey=function(h){return this.options.appkey=h},d.prototype.setPlatform=function(h){return this.customs.$platform=h},d.prototype.setIdentify=function(h){return this.customs.distinct_id=h},d.prototype.setCampaign=function(h){return this.customs.campaign=h},d.prototype.setSampling=function(h,m){return null==h&&(h=4),null==m&&(m=this.defaultSamplingFunc),this.options.sampling=!0,this.options.sampling_ratio=h,this.options.sampling_func=m},d.prototype.pathCaseSensitive=function(h){return this.options.pathCaseSensitive=!!h},d.prototype.trackBot=function(h){return this.options.bot=h},d.prototype.enableHT=function(h){return this.options.hashtag=h},d.prototype.enableTouch=function(h){return this.options.touch=h},d.prototype.defaultSamplingFunc=function(){throw new Error("this a inteface function")},d.prototype.initialCSFields=function(h){var o,m,p;for(p=[],o=m=20;m>=2;o=--m){p.push(this["setCS"+o]=function(n){return function(q){return function(u,s){var v;return n.app.set((v={},v[""+u]=s,v))}}}(this)(o))}return p},d.prototype.initialPSFields=function(){var h,n,m;for(m=[],h=n=20;n>=1;h=--n){m.push(this["setPS"+h]=function(o){return function(p){return function(q){return o.page.setPS("PS"+p,q)}}}(this)(h))}return m},d.prototype.setPageGroup=function(h){return this.page.setName(h)},d.prototype.track=function(h){var m;return(m=this.system).track.apply(m,arguments)},d.prototype.config=function(h){var o,m,p;for(o in h){p=h[o],"scheme"===o?this.setTrackerScheme(p):"sampling"===o?this.setSampling.apply(this,p):this.options[o]=p}m=[];for(o in this.options){m.push(window._specter[o]=this.options[o])}return m},d.prototype.init=function(m,q){var v,h,u,p;if(m&&l.isString(m)&&0!==m.trim().length){this.setAppkey(m);window._specter={origin:this.circleHost,version:this.version};this.config(q);for(u=["app","people","page","system"],v=0,h=u.length;h>v;v++){p=u[v],this[p]=this.initDimensions(p)}return this.afterInitialize(),this.ready=!0}},d.prototype.afterInitialize=function(){throw new Error("this a inteface function")},d.prototype.apply=function(){var m,q,p,u,h;if(u=arguments[0],m=2<=arguments.length?j.call(arguments,1):[],l.isString(u)){try{if(-1===u.indexOf(".")){if(u&&u==="setPage"){if(h=this["page"],h&&null!=h[u]){return h[u].apply(h,m)}}else{if(u&&u==="setPeople"){if(h=this["people"],h&&null!=h[u]){return h[u].apply(h,m)}}else{if(null!=this[u]){return this[u].apply(this,m)}}}}else{if(p=u.split("."),h=this[p[0]],h&&null!=h[p[1]]){return h[p[1]].apply(h,m)}}}catch(s){return q=s,console.error(q)}}},d.prototype.setOrigin=function(h){return h?this.options.origin=h:void 0},d.prototype.set=function(h,m){return this.options[h]=m},d.prototype.send=function(){var m,q,p,u,h;if(!this.started){try{if(this.ready&&this.verify()){return this.connect()}}catch(s){return q=s,console.error(q.message)}finally{for(this.started=!0,h=this.commond_stack,p=0,u=h.length;u>p;p++){m=h[p],this.apply.apply(this,m)}}}},d.prototype.verify=function(){return !0},d.prototype.identityWindow=function(){return l.identityWindow()},d.prototype.beforeConnect=function(){throw new Error("this a inteface function")},d.prototype.connect=function(){var n=window.navigator.userAgent.toLowerCase();if(n.match(/(bot|crawler|spider|scrapy|jiankongbao|slurp|transcoder|networkbench|oneapm)/i)){if(!this.options.bot){return}this.options.isBot=!0}window.customs={};var m;for(m in this.customs){window.customs[m]=this.customs[m]}window.start=new Date().getTime();var o="specter_fpid";var h=o?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(o).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null;if(null!=h){window.customs.is_new="0"}else{window.customs.is_new="1"}return this.beforeConnect(),this.sender.connect({isBot:!!this.options.isBot})},d.prototype.callback=function(){return this.observer.observe()},d.prototype.initDimensions=function(h){switch(h){case"people":return new f(this,this.observer,this.sender,this.user);case"app":return new k(this,this.observer,this.sender,this.user);case"page":return new e(this,this.observer,this.sender,this.user);case"system":return new c(this,this.observer,this.sender,this.user)}return dim},d}(),a.exports=b},{"app_dimension":3,"page_dimension":5,"people_dimension":6,"system_dimension":7,"tools_utils":14}],3:[function(h,e){var d,c,g=function(a,i){return function(){return a.apply(i,arguments)}},f=function(a,j){function i(){this.constructor=a}for(var k in j){b.call(j,k)&&(a[k]=j[k])}return i.prototype=j.prototype,a.prototype=new i,a.__super__=j.prototype,a},b={}.hasOwnProperty;c=h("base_dimension"),d=function(a){function i(){this.defer_condition=g(this.defer_condition,this),this.set=g(this.set,this),i.__super__.constructor.apply(this,arguments)}return f(i,a),i.prototype.set=function(j){var l,k,m;if(!j){return this.clearCache()}if(2===arguments.length&&this.utils.isString(arguments[0])&&0!==arguments[0].trim().length){l={},l[arguments[0]]=arguments[1],j=l}else{if(1!==arguments.length||!this.utils.isObject(arguments[0])||this.utils.isEmptyObject(arguments[0])){return}}this.app_cache=this.app_cache?this.app_cache:j;for(k in j){null!=(m=this.app_cache)&&(m[k]=j[k])}return this.lastSetTimeout&&clearTimeout(this.lastSetTimeout),this.lastSetTimeout=setTimeout(function(n){return function(){return n.observer.setDeferWithPage({"var":n.app_cache},n.defer_condition)}}(this),0)},i.prototype.defer_condition=function(){return !!this.observer.pageLoaded&&this.launcher.started},i.prototype.clearCache=function(){return delete this.app_cache},i}(c),e.exports=d},{"base_dimension":4}],4:[function(d,c){var b,a;a=d("tools_utils"),b=function(){function e(f,h,g,i){this.launcher=f;this.observer=h;this.suser=i;this.send=g.send;this.utils=a;this.bindPageChangeEvent()}return e.prototype.bindPageChangeEvent=function(){return this.utils.bind(window,"popstate",this.pageChanged,!0),window._specter.hashtag?this.utils.bind(window,"hashchange",this.pageChanged,!0):void 0},e.prototype.set=function(){throw new Error("this a abstruct function")},e.prototype.reset=function(){},c.exports=e,e}()},{"tools_utils":14}],5:[function(e,b){var d,f,i,k=function(a,c){return function(){return a.apply(c,arguments)}},h=function(a,l){function c(){this.constructor=a}for(var m in l){j.call(l,m)&&(a[m]=l[m])}return c.prototype=l.prototype,a.prototype=new c,a.__super__=l.prototype,a},j={}.hasOwnProperty,g=[].slice;d=e("base_dimension");f=function(a){function c(){this.setPS=k(this.setPS,this);this.setName=k(this.setName,this);this.set=k(this.setPage,this);c.__super__.constructor.apply(this,arguments);this.properties={};this.pageService=this.observer.pageService}return h(c,a),c.prototype.setPage=function(l){var o,m,p;if(1===arguments.length&&this.utils.isObject(arguments[0])&&!this.utils.isEmptyObject(arguments[0])){}else{if(2!==arguments.length||!this.utils.isString(arguments[0])||0===!arguments[0].trim().length){return}o={},o[arguments[0]]=arguments[1],l=o}for(m in l){p=l[m],this.properties[m]=p}if(!this.launcher.started){return this.launcher.setCustom(this.properties),this.launcher.pushToStack(["setPage"].concat(g.call(arguments)))}return this.properties},c.prototype.setName=function(l){return this.name=l,this.name&&this.utils.isString(this.name)&&0!==this.name.trim().length?this.observer.setPageGroup(this.name):void 0},c.prototype.setPS=function(l,n){var m;if(this.name&&this.utils.isString(l)&&0!==l.length){return this.pageService.reduceProps((m={},m[""+l]=n,m))}},c.prototype.reset=function(){return this.clearCache},c.prototype.clearCache=function(){return this.properties={}},c}(d),b.exports=f},{"tools_utils":14,"base_dimension":4}],6:[function(j,g){var f,e,h=function(a,c){return function(){return a.apply(c,arguments)}},b=function(a,k){function c(){this.constructor=a}for(var l in k){d.call(k,l)&&(a[l]=k[l])}return c.prototype=k.prototype,a.prototype=new c,a.__super__=k.prototype,a},d={}.hasOwnProperty,i=[].slice;f=j("base_dimension");e=function(a){function c(){this.clearId=h(this.clearId,this);this.getId=h(this.getId,this);this.setId=h(this.setId,this);this.set=h(this.setPeople,this);this.properties={};c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.setPeople=function(k){var m,l,o;if(1===arguments.length&&this.utils.isObject(arguments[0])&&!this.utils.isEmptyObject(arguments[0])){}else{if(2!==arguments.length||!this.utils.isString(arguments[0])||0===!arguments[0].trim().length){return}m={},m[arguments[0]]=arguments[1],k=m}for(l in k){o=k[l],this.properties[l]=o}if(!this.launcher.started){return this.launcher.setCustom(this.properties),this.launcher.pushToStack(["setPeople"].concat(i.call(arguments)))}return this.properties},c.prototype.setId=function(k){return k},c}(f),g.exports=e},{"tools_utils":14,"base_dimension":4}],7:[function(e,b){var d,i,h,k=function(a,c){return function(){return a.apply(c,arguments)}},g=function(a,l){function c(){this.constructor=a}for(var m in l){j.call(l,m)&&(a[m]=l[m])}return c.prototype=l.prototype,a.prototype=new c,a.__super__=l.prototype,a},j={}.hasOwnProperty,f=[].slice;d=e("base_dimension"),h=e("tools_utils"),i=function(a){function c(){this._buildTrackMessage=k(this._buildTrackMessage,this),this.track=k(this.track,this),c.__super__.constructor.apply(this,arguments)}return g(c,a),c.prototype.track=function(n){var p,m,o,q;if(n){if(!this.launcher.started){return this.launcher.pushToStack(["track"].concat(f.call(arguments)))}if(arguments.length==1){if(this.utils.isObject(arguments[0])){for(var l in arguments[0]){q=arguments[0][l],this.utils.isObject(q)?m=q:p=q}}else{p=arguments[0]}}if(arguments.length==2){p=arguments[0];if(this.utils.isObject(arguments[1])){m=arguments[1]}}o=this._buildTrackMessage(p,m);return this.send([o],"code")}},c.prototype._buildTrackMessage=function(p,q){if(null==q){(q={})}var o={$fpid:this.suser.fpid(),$session_id:this.suser.sid(),$appkey:window._specter.appkey,$event_type:"code",$event_time:+Date.now()},m,l,n,r;if(!this.utils.isEmptyObject(q)){for(m in q){l=q[m],o[m]=l}}n=h.extend(o,h.properties());n=h.extend(n,window.customs);r={event:p,properties:n};return r},c}(d),b.exports=i},{"tools_utils":14,"base_dimension":4}],8:[function(h,e){var g,f,c,d,b,a;a=h("tools_utils"),f=h("tagging_node_info"),d=["I","SPAN","EM","svg"],c=["TR","LI","DL"],b=["A","BUTTON"];g=function(){function i(){}return i.prototype.path=function(D,z){var j,q,m,E,B,w,A,u,k,y,x,C;if(null==z&&(z=!1),E="",k=!1,q=[],u=!1,A=!1,D===document){return{isIgnore:!0}}for(j=new f(D);"body"!==j.name&&"html"!==j.name;){if(y=j.path(),j.isIgnore&&(k=!0),!u&&j.hasObj()&&(u=!0,w=j.sObj),!A&&j.hasIdx()&&(A=!0,B=j.sIdx),z&&""!==E&&(-1!==a.indexOf(b,j.node.tagName)||j.isContainer())){return m=this.path(j.node),q={xpath:m.xpath,el_atter_href:j.href,el_text:this.containerElemContent(j.node)},C={xpath:q.x+E,isIgnore:k||m.isIgnore,pnode:j.node},A?(q.idx=B,C.idx=B):m.idx?(q.idx=m.idx,C.idx=m.idx):(-1!==m.xpath.indexOf("/dl")||-1!==m.xpath.indexOf("/tr")||-1!==m.xpath.indexOf("/li"))&&(q.idx=this.index(j.node)),u?(q.obj=w,C.obj=w):m.obj&&(q.obj=m.obj,C.obj=m.obj),C.containerMessage=q,C}if(E=y+E,x=j.node.parentNode,!x||!x.tagName){break}j=new f(x)}return C={xpath:E,containerMessage:q,isIgnore:k},u&&(C.obj=w),A&&(C.idx=B),C},i.prototype.index=function(l){var p,o,u,k,m,j,q;for(m=l;m&&"BODY"!==m.tagName&&-1===a.indexOf(c,m.tagName);){m=m.parentNode}if(m){for(j=m.parentNode,o=1,q=j.childNodes,p=0,u=q.length;u>p;p++){if(k=q[p],k.tagName===m.tagName){if(a.hasAttr(k,"data-specter-idx")&&(o=parseInt(k.getAttribute("data-specter-idx"))),k===m){return o}o+=1}}}},i.prototype.isLeaf=function(k){var m,l,o,j;if(k.hasChildNodes()&&"svg"!==k.tagName){for(j=k.childNodes,l=0,o=j.length;o>l;l++){if(m=j[l],1===m.nodeType){return !1}}}return !0},i.prototype.isParentOfLeaf=function(k){var m,l,o,j;if(!k.childNodes){return !1}if("svg"===k.tagName){return !1}for(j=k.childNodes,l=0,o=j.length;o>l;l++){if(m=j[l],!this.isLeaf(m)){return !1}}return !0},i.prototype.depthInside=function(k,p,m){var u,j,q,l;if(null==m&&(m=1),k.hasChildNodes()){if(m>p){return !1}for(l=k.childNodes,u=0,j=l.length;j>u;u++){if(q=l[u],1===q.nodeType&&!this.depthInside(q,p,m+1)){return !1}}}return p>=m},i.prototype.onlyContainsChildren=function(k,m){var l,q,j,p;if(0===!k.children.length){return !1}for(p=k.children,q=0,j=p.length;j>q;q++){if(l=p[q],-1===a.indexOf(m,l.tagName)){return !1}}return !0},i.prototype.containerElemContent=function(j){var k;if("BUTTON"===j.tagName){if(j.name.length>0){return j.name}if(this.onlyContainsChildren(j,d)&&null!=j.textContent&&(k=j.textContent.replace(/[\n \t]+/g," ").trim(),k.length>0&&k.length<50)){return k}}else{if("A"===j.tagName){if(a.hasAttr(j,"data-specter-title")&&j.getAttribute("data-specter-title").length>0){return j.getAttribute("data-specter-title")}if(a.hasAttr(j,"title")&&j.title.length>0){return j.getAttribute("title")}if(this.onlyContainsChildren(j,d)&&null!=j.textContent){if(k=j.textContent.replace(/[\n \t]+/g," ").trim(),k.length>0&&k.length<50){return k}}else{if(a.hasAttr(j,"href")&&j.getAttribute("href").length>0){return j.getAttribute("href")}}}}},i}();e.exports=g},{"tools_utils":14,"tagging_node_info":9}],9:[function(f,d){var e,c,a,b;b=f("tools_utils"),a=b.detectIE()||0/0,c=/(^| )(clear|clearfix|active|hover|enabled|hidden|display|focus|disabled|ng-|specter-)[^\. ]*/g,e=function(){function g(h){var j,i;this.node=h;this.name=h.tagName.toLowerCase();b.hasAttr(h,"id")&&null===h.getAttribute("id").match(/^[0-9]/)&&(this.id=h.getAttribute("id"));this.isIgnore=b.hasAttr(h,"specter-ignore")||b.hasAttr(h,"data-specter-ignore");b.hasAttr(h,"href")&&(this.href=h.getAttribute("href"));b.hasAttr(h,"data-specter-info")&&(this.sObj=h.getAttribute("data-specter-info"));b.hasAttr(h,"data-specter-idx")&&(this.sIdx=parseInt(h.getAttribute("data-specter-idx")));"input"===this.name&&b.hasAttr(h,"name")&&h.getAttribute("name")?this.klass=[h.getAttribute("name")]:(j=null!=(i=b.getKlassName(h,a))?i.replace(c,"").trim():void 0,(null!=j?j.length:void 0)>0&&(this.klass=j.split(/\s+/).sort()))}return g.prototype.path=function(){var j,l,k,m,h;if(m="/"+this.name,null!=this.id&&(m+="#"+this.id),null!=this.klass){for(h=this.klass,j=0,k=h.length;k>j;j++){l=h[j],m+="."+l}}return m},g.prototype.hasObj=function(){return null!=this.sObj},g.prototype.hasIdx=function(){return null!=this.sIdx},g.prototype.isContainer=function(){return b.hasAttr(this.node,"data-specter-container")},g}(),d.exports=e},{"tools_utils":14}],10:[function(f,d){var e,b,l,j,k,i=function(a,c){return function(){return a.apply(c,arguments)}},g=[].indexOf||function(a){for(var h=0,c=this.length;c>h;h++){if(h in this&&this[h]===a){return h}}return -1};k=f("tools_utils"),j=k.detectIOS()||0/0,b=f("page_service"),e=function(){function q(m,s,p,v){this.send=m,this.suser=s,this.launcher=p,this.TreeMirror=v,this.setPSForActionMessage=i(this.setPSForActionMessage,this),this.pageChanged=i(this.pageChanged,this),this.sendPageCallback=i(this.sendPageCallback,this),this.content={},this.pageService=new b(this.send,this.suser,this.launcher)}var H,z,B,u,I,E,A,G,F,o,D,h,J,c,K,a,x;return B=null,c=3,I=[],u={},x={tspan:1,text:1,g:1,rect:1,path:1,defs:1,clipPath:1,desc:1,title:1,use:1},A={},a=null,E=null,K=null,z=!0,H=["TEXTAREA","HTML","BODY"],h=["button","submit"],J=["A","BUTTON","INPUT","IMG"],F=["I","SPAN","EM","svg"],D=["A","BUTTON"],o=D,G=["radio","checkbox"],q.prototype.sendPageCallback=function(m){return this.pageLoaded=m.pageLoaded,this.prevPageAttrs=k.assignObj({},m.preProperties),this.lastActionTime=+Date.now()},q.prototype.setPageGroup=function(m){return this.pageService.setPageGroup(m,function(n){return function(p){var s;return n.sendPageCallback(p),null!=(s=n.messagingObserver)?s.sendPageLoad({pg:m}):void 0}}(this))},q.prototype.setDeferWithPage=function(m,n){return n?this.pageService.setDeferSendWithPage(m,n,this.sendPageCallback):void 0},q.prototype.idle=function(){return this.lastSentTime=this.lastSentTime||+Date.now(),this.lastSentTime&&(+Date.now()-this.lastSentTime)/I.length>300},q.prototype.sendQueue=function(){return I.length>0&&+Date.now()-this.lastActionTime<120000&&this.send(I),this.queueTimeout=null,this.lastSentTime=+Date.now(),I=[],c=3},q.prototype.getLeafNodes=function(P,L){var m,v,y,p,Q,O,N,C,M,w;if(p=[],N=!0,P.leaf){1===P.nodeType&&((null!=(C=P.attributes)?C.href:void 0)||null!=P.text||null!=P.obj)&&(O=this.nodeMessage(P,!0),L>1&&(O.idx=P.idx),p.push(O))}else{if(0===P.childNodes.length&&-1===k.indexOf(J,P.tagName)){}else{for(M=P.childNodes,y=0,Q=M.length;Q>y;y++){m=M[y],m.leaf||(N=!1),p=p.concat(this.getLeafNodes(m,P.childNodes.length))}(-1!==k.indexOf(o,P.tagName)||N&&((null!=(w=P.attributes)?w.any:void 0)||P.text))&&(P.text||(v=P.dom,P.text=v?this.info.containerElemContent(v):k.parentOfLeafText(P)),O=this.nodeMessage(P,!1),p.push(O))}}return p},q.prototype.nodeMessage=function(n,w){var v,m,y,p;return m={xpath:n.path},m.el_text=n.text,"A"===n.tagName&&0===(null!=(y=n.text)?y.length:void 0)&&(m.el_text=void 0),(null!=(p=n.text)?p.length:void 0)>50&&(m.el_text="A"===n.tagName?n.text.slice(0,30):void 0),(v=n.attributes)&&v.href&&0!==v.href.indexOf("javascript")&&(m.el_atter_href=k.normalizePath(v.href.slice(0,320)),delete n.attributes.href),n.idx&&(m.idx=n.idx),n.obj&&(m.obj=n.obj),this.appendMessageAttrs(B,m)},q.prototype.appendMessageAttrs=function(){throw new Error("this a inteface function")},q.prototype.registerEventListener=function(){var M,p,r,m,N,L,C,v,y,w;L={click:"click",change:"change",submit:"submit",snapshot:"snapshot"},M="",p=function(n,O,s){return n.addEventListener?n.addEventListener(O,s,!0):n.attachEvent?n.attachEvent("on"+O,s):n["on"+O]=s},y=function(n){return n.which>1||(K=+Date.now(),E===K)?void 0:(E=K,A={time:K,target:n.target||n.srcElement,x:C("x",n),y:C("y",n)},a=setTimeout(function(){return n={target:A.target,type:"click"},N(n)},600))},v=function(n){var s;return s={adx:Math.abs(C("x",n)-A.x),ady:Math.abs(C("y",n)-A.y)},s.adx>10||s.ady>10?clearTimeout(a):void 0},w=function(n){var s;return s=+Date.now()-A.time,1000>s?clearTimeout(a):void 0},C=function(s,O){var P;return P=z?O.touches[0]:O,P["page"+s.toUpperCase()]},r=function(){var Z,T,R,O,aa,V,Y,U,Q,n,S,X,P,W;W=navigator.userAgent,O=/chrome/i.exec(W),R=/android/i.exec(W),z="ontouchstart" in window&&!(O&&!R),X=z?["touchstart"]:["mousedown"],P=z?["touchend","touchcancel"]:["mouseup","mouseleave"],n=z?["touchmove"]:["mousemove"];for(T=0,Y=X.length;Y>T;T++){Z=X[T],p(document,Z,y)}for(aa=0,U=n.length;U>aa;aa++){Z=n[aa],p(document,Z,v)}for(S=[],V=0,Q=P.length;Q>V;V++){Z=P[V],S.push(p(document,Z,w))}return S},N=function(n){return function(O){var Q,P,W,V,S,U,R,T;if(!document.body.className.match(/\bspecter-entrytext\b/)){for(n.lastActionTime=+Date.now(),U=O.target||O.srcElement;U&&1===x[U.tagName]&&U.parentNode;){U=U.parentNode}if(Q=n.info.path(U,!0),Q.isIgnore){return}if(S=U.tagName,"click"===O.type){if(-1!==k.indexOf(H,S)){return}if("INPUT"===S&&-1===k.indexOf(h,U.type)){return}if(-1===k.indexOf(J,S)&&!n.info.depthInside(U,4)){return}}return W={$fpid:n.suser.fpid(),$session_id:n.suser.sid(),$event_type:L[O.type],$event_time:+Date.now(),$appkey:window._specter.appkey,xpath:k.generateXPath(U),xpath2:Q.xpath},n.currentQuery.length>0&&(W.q=n.currentQuery),n.setPSForActionMessage(W),V="snapshot"===O.type,V&&(O.type="click"),P=n.compute(V?"click":O.type,U),T=k.extend(W,k.properties()),T=k.extend(T,window.customs),R={event:"$web_"+L[O.type],properties:T},W.el_text=P.el_text,W.el_atter_href=P.el_atter_href,n.send([R])}}}(this);for(m in L){p(document,m,N)}return window._specter.touch?r():void 0},q.prototype.compute=function(L,X){var P,S,V,R,M,ab,Z,W,Y,U,Q,T,aa,w,ac,v,N;if(V={},v=X.tagName,"IMG"===v?(null!=(aa=X.src)?aa.length:void 0)>0&&-1===X.src.indexOf("data:image")&&(V.el_atter_href=X.src):k.hasAttr(X,"href")&&(R=X.getAttribute("href"),R&&0!==R.indexOf("javascript")&&(V.el_atter_href=k.normalizePath(R.slice(0,320)))),k.hasAttr(X,"data-specter-title")&&X.getAttribute("data-specter-title").length>0){V.el_text=X.getAttribute("data-specter-title")}else{if(k.hasAttr(X,"title")&&X.getAttribute("title").length>0){V.el_text=X.getAttribute("title")}else{if("click"===L){if(this.info.isLeaf(X)){if("IMG"===v){X.alt?V.el_text=X.alt:V.el_atter_href&&(Z=V.el_atter_href.split("?")[0],ab=Z.split("/"),ab.length>0&&(V.el_text=ab[ab.length-1]))}else{if("INPUT"===v&&-1!==k.indexOf(h,X.type)){V.el_text=X.value}else{if("svg"===v){for(w=X.childNodes,M=0,U=w.length;U>M;M++){P=w[M],1===P.nodeType&&"use"===P.tagName&&k.hasAttr(P,"xlink:href")&&(V.el_text=P.getAttribute("xlink:href"))}}else{N="",null!=X.textContent?N=X.textContent.replace(/[\n \t]+/g," ").trim():null!=X.innerText&&(N=X.innerText.replace(/[\n \t]+/g," ").trim()),N.length>0&&(N.length<50?V.el_text=N:"A"===v&&(V.el_text=N.slice(0,30)))}}}}else{-1!==k.indexOf(o,v)?(S=this.info.containerElemContent(X),this.info.isParentOfLeaf(X)&&!this.info.onlyContainsChildren(X,F)?(T=k.parentOfLeafText(X),T===S?V.el_text=S:(V.el_text=T,V.obj=S||"")):V.el_text=S):this.info.isParentOfLeaf(X)&&(V.el_text=k.parentOfLeafText(X))}}else{if("change"===L){"TEXTAREA"!==v&&("INPUT"===v&&(-1!==k.indexOf(G,X.type)||"password"!==X.type&&(k.hasAttr(X,"specter-track")||k.hasAttr(X,"data-specter-track")))||"SELECT"===v)&&(V.el_text=X.value)}else{if("submit"===L){for(ac=X.getElementsByTagName("input"),Y=0,Q=ac.length;Q>Y;Y++){W=ac[Y],("search"===W.type||"text"===W.type&&("q"===W.id||-1!==W.id.indexOf("search")||-1!==W.className.indexOf("search")||"q"===W.name||-1!==W.name.indexOf("search")))&&(V.xpath=this.info.path(W).xpath,V.el_text=W.value.trim())}}}}}}return V},q.prototype.registerHistoryHandler=function(){var m,n;return m=window.history.pushState,n=window.history.replaceState,null!=m&&(window.history.pushState=function(p){return function(){return p.prevUrl=window.location.toString(),m.apply(window.history,arguments),setTimeout(function(){return p.pageChanged()},0)}}(this)),null!=n&&(window.history.replaceState=function(p){return function(){return p.prevUrl=window.location.toString(),n.apply(window.history,arguments),setTimeout(function(){return p.pageChanged()},0)}}(this)),null!=m&&(this.prevUrl=k.getDocumentReferrer(),"function"==typeof Object.defineProperty&&Object.defineProperty(document,"referrer",{get:function(p){return function(){return p.prevUrl}}(this),configurable:!0}),k.bind(window,"popstate",this.pageChanged,!0)),window._specter.hashtag?k.bind(window,"hashchange",this.pageChanged,!0):void 0},q.prototype.pageChanged=function(){var m,p,n;return m=k.path(),p=k.query(),this.currentPath!==m||this.currentQuery!==p?(window._specter.hashtag&&(this.prevUrl=window.location.protocol+"//"+window.location.host+this.currentPath,this.currentQuery&&this.currentQuery.trim().length>0&&(this.prevUrl+="?"+this.currentQuery)),this.currentPath=m,this.currentQuery=p,this.pageService.sendPV({sendVisit:!0,useNewTime:!0},this.sendPageCallback),null!=(n=this.messagingObserver)?n.sendPageLoad(this.prevPageAttrs):void 0):void 0},q.prototype.domLoadedHandler=function(m){if(!this.domLoadedHandler.done){this.domLoadedHandler.done=!0;this.registerEventListener();return window.history.pushState&&this.registerHistoryHandler()}},q.prototype.observe=function(){var m,s,p;if(this.currentPath=k.path(),this.currentQuery=k.query(),this.pageService.sendPV({},this.sendPageCallback),document.addEventListener){"interactive"===document.readyState||"complete"===document.readyState?this.domLoadedHandler():k.bind(document,"DOMContentLoaded",function(n){return function(){return n.domLoadedHandler()}}(this))}else{if(document.attachEvent){k.bind(document,"onreadystatechange",function(n){return function(){return n.domLoadedHandler()}}(this)),p=!1;try{p=null===window.frameElement}catch(v){s=v}document.documentElement.doScroll&&p&&(m=function(n){return function(){try{document.documentElement.doScroll("left")}catch(r){return s=r,void setTimeout(m,1)}return n.domLoadedHandler()}}(this))()}}return k.bind(window,"load",function(n){return function(){return n.domLoadedHandler()}}(this)),k.bind(window,"beforeunload",function(n){return function(y){var w,C;if(n.queueTimeout&&n.sendQueue(),C=+Date.now(),window.sWaitTime){for(w=C+50;w>C;){C=+Date.now()}}}}(this)),j&&k.bind(window,"pagehide",function(n){return function(y){var w,C;if(n.queueTimeout&&n.sendQueue(),C=+Date.now(),window.sWaitTime){for(w=C+50;w>C;){C=+Date.now()}}}}(this)),k.bind(window,"unload",function(n){return function(r){var w;if(window.sWaitTime){for(;w<window.sWaitTime;){w=+Date.now()}}}}(this))},q.prototype.setPSForActionMessage=function(m){return this.prevPageAttrs.pg?m.pg=this.prevPageAttrs.pg:void 0},q}(),d.exports=e},{"page_service":11,"tools_utils":14}],11:[function(e,d){var b,a,c;a=e("tools_utils"),c=e("cookie"),b=function(){function f(g,i,h){this.send=g,this.suser=i,this.launcher=h,this.properties={},this.preProperties={},this.defaultOptions={sendVisit:!0,addPreProps:!1,useNewTime:!0}}return f.prototype.replaceProps=function(g){return g?this.properties=g:void 0},f.prototype.reduceProps=function(g){var i,h;if(g){h=[];for(i in g){h.push(this.properties[i]=g[i])}return h}},f.prototype.sendPV=function(i,k){var j,l,h,g;if(null==k&&(k=function(){return{}}),this.messages=[],this.options=this.defaultOptions,i){for(l in i){this.options[l]=i[l]}}h=c.getItem("specter_time_"+window._specter.appkey),g=+Date.now()+"|"+a.properties().$current_url;if(h==null){this.defaultOptions.sendVisit=!1,c.setItem("specter_time_"+window._specter.appkey,g,1800,"/",this.suser.cookieDomain())}if(this.options.addPreProps){for(l in this.preProperties){null==(j=this.properties)[l]&&(j[l]=this.preProperties[l])}}return this.options.useNewTime&&(this.pageLoaded=+Date.now()),null==this.pageLoaded&&(this.pageLoaded=+Date.now()),this.options.sendVisit&&this.messages.push(this._buildVisitMessage(g)),this.messages.push(this._buildPageMessage()),this.send(this.messages,"pv"),this.preProperties=this.properties,this.properties={},k(this)},f.prototype.setPageGroup=function(g,h){return g?(this.reduceProps({pg:g}),this.pageLoaded&&+Date.now()-this.pageLoaded<4000&&this.launcher.started?setTimeout(function(i){return function(){return i.sendPV({sendVisit:!1,addPreProps:!0,useNewTime:!1},h)}}(this),10):void 0):void 0},f.prototype.setDeferSendWithPage=function(g,i,h){return i||g?(this.reduceProps(g),i(this)?this.sendPV({addPreProps:!0,useNewTime:!1},h):void 0):void 0},f.prototype._buildPageMessage=function(){var h,g;g=a.extend({$appkey:window._specter.appkey,$fpid:this.suser.fpid(),$session_id:this.suser.sid(),$event_type:"pageview",$event_time:+Date.now()},a.properties());if(a.query().length>0&&(g.q=a.query()),this.properties){for(h in this.properties){g[h]=this.properties[h]}}for(var j in window.customs){g[j]=window.customs[j]}var i={event:"$page_view",properties:g};return i},f.prototype._buildVisitMessage=function(g){var h,k,j,i;j=c.getItem("specter_time_"+window._specter.appkey);c.setItem("specter_time_"+window._specter.appkey,g,1800,"/",this.suser.cookieDomain());if(null!=j){k=(+Date.now()-j.split("|")[0])/1000;i=j.split("|")[1]}else{c.setItem("specter_time_"+window._specter.appkey,g,1800,"/",this.suser.cookieDomain())}h={$appkey:window._specter.appkey,$fpid:this.suser.fpid(),$session_id:this.suser.sid(),$event_type:"page_duration",$event_time:+Date.now(),$page_duration:k<0?0:k,$current_url:i,$platform:a.properties().$platform,$sdk_version:a.properties().$sdk_version,$model:a.properties().$model,$os_version:a.properties().$os_version,$os:a.properties().$os,$browser:a.properties().$browser,$browser_version:a.properties().$browser_version,$language:a.properties().$language,$useragent:a.properties().$useragent};for(var m in window.customs){h[m]=window.customs[m]}var l={event:"$page_duration",properties:h};return l},f}(),d.exports=b},{"tools_utils":14,"cookie":15}],12:[function(c,a){var b;b=function(){var d;return d=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(g){var f,h;return f=(d+16*Math.random())%16|0,d=Math.floor(d/16),h="x"===g?f:3&f|8,h.toString(16)})},a.exports=b},{}],13:[function(d,a){var c,b;b=d("cookie"),c=function(){function e(){}return e.get=function(f){var h;try{return window.localStorage?this._readFromLocalStorage(f):this._readFromCookie(f)}catch(g){return h=g,null}},e.set=function(g,j,h){var k;null==h&&(h=86400000);try{return window.localStorage?this._setInLocalStorage(g,j,h):this._setInCookie(g,j,h/1000)}catch(f){return k=f,null}},e._readFromCookie=function(f){return b.getItem(f)},e._setInCookie=function(f,h,g){return b.setItem(f,h,g,"/",window.location.hostname)},e._readFromLocalStorage=function(f){var h,g;return g=window.localStorage.getItem(f),g?(h=JSON.parse(g),h.expiredAt&&+h.expiredAt>=+Date.now()?h.value:null):null},e._setInLocalStorage=function(f,h,g){return window.localStorage.setItem(f,JSON.stringify({expiredAt:+Date.now()+g,value:h}))},e.removeInCookie=function(f){return b.removeItem(f,"/",window.location.hostname)},e.removeInLocalStorage=function(f){return window.localStorage.removeItem(f)},e.removeItem=function(f){var h;try{return window.localStorage&&this.removeInLocalStorage(f),this.removeInCookie(f)}catch(g){return h=g,null}},e}(),window.GrLocalStore=c,a.exports=c},{cookie:18}],14:[function(c,d){var e,r,p;r=c("guid"),e=c("cookie");var A="0.7.17",C="",B="?",s="function",h="undefined",f="object",o="string",v="model",g="name",m="type",j="vendor",x="version",a="architecture",i="console",q="mobile",y="tablet",l="smarttv",z="wearable",u="embedded";var b={has:function(E,D){if(typeof E==="string"){return D.toLowerCase().indexOf(E.toLowerCase())!==-1}else{return false}},lowerize:function(D){return D.toLowerCase()},trim:function(D){return D.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}};var w={rgx:function(E,G){var J=0,I,H,F,D,L,K;while(J<G.length&&!L){var N=G[J],M=G[J+1];I=H=0;while(I<N.length&&!L){L=N[I++].exec(E);if(!!L){for(F=0;F<M.length;F++){K=L[++H];D=M[F];if(typeof D===f&&D.length>0){if(D.length==2){if(typeof D[1]==s){this[D[0]]=D[1].call(this,K)}else{this[D[0]]=D[1]}}else{if(D.length==3){if(typeof D[1]===s&&!(D[1].exec&&D[1].test)){this[D[0]]=K?D[1].call(this,K,D[2]):undefined}else{this[D[0]]=K?K.replace(D[1],D[2]):undefined}}else{if(D.length==4){this[D[0]]=K?D[3].call(this,K.replace(D[1],D[2])):undefined}}}}else{this[D]=K?K:undefined}}}}J+=2}},str:function(G,F){for(var E in F){if(typeof F[E]===f&&F[E].length>0){for(var D=0;D<F[E].length;D++){if(b.has(F[E][D],G)){return(E===B)?undefined:E}}}else{if(b.has(F[E],G)){return(E===B)?undefined:E}}}return G}};var n={browser:{oldsafari:{version:{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{"HTC":"APA","Sprint":"Sprint"}}},os:{windows:{version:{"ME":"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0","2000":"NT 5.0","XP":["NT 5.1","NT 5.2"],"Vista":"NT 6.0","7":"NT 6.1","8":"NT 6.2","8.1":"NT 6.3","10":["NT 6.4","NT 10.0"],"RT":"ARM"}}}};var k={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[g,x],[/(opios)[\/\s]+([\w\.]+)/i],[[g,"Opera Mini"],x],[/\s(opr)\/([\w\.]+)/i],[[g,"Opera"],x],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[g,x],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[g,"IE"],x],[/(edge)\/((\d+)?[\w\.]+)/i],[g,x],[/(yabrowser)\/([\w\.]+)/i],[[g,"Yandex"],x],[/(puffin)\/([\w\.]+)/i],[[g,"Puffin"],x],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[g,"UCBrowser"],x],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],x],[/(micromessenger)\/([\w\.]+)/i],[[g,"WeChat"],x],[/(QQ)\/([\d\.]+)/i],[g,x],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[g,x],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[x,[g,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[x,[g,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[x,[g,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[g,/(.+)/,"$1 WebView"],x],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[g,/(.+(?:g|us))(.+)/,"$1 $2"],x],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[x,[g,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[g,x],[/(dolfin)\/([\w\.]+)/i],[[g,"Dolphin"],x],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[g,"Chrome"],x],[/(coast)\/([\w\.]+)/i],[[g,"Opera Coast"],x],[/fxios\/([\w\.-]+)/i],[x,[g,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[x,[g,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[x,g],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[g,"GSA"],x],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[g,[x,w.str,n.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[g,x],[/(navigator|netscape)\/([\w\.-]+)/i],[[g,"Netscape"],x],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[g,x]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[v,j,[m,y]],[/applecoremedia\/[\w\.]+ \((ipad)/],[v,[j,"Apple"],[m,y]],[/(apple\s{0,1}tv)/i],[[v,"Apple TV"],[j,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[j,v,[m,y]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[v,[j,"Amazon"],[m,y]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[v,w.str,n.device.amazon.model],[j,"Amazon"],[m,q]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[v,j,[m,q]],[/\((ip[honed|\s\w*]+);/i],[v,[j,"Apple"],[m,q]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[j,v,[m,q]],[/\(bb10;\s(\w+)/i],[v,[j,"BlackBerry"],[m,q]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[v,[j,"Asus"],[m,y]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[j,"Sony"],[v,"Xperia Tablet"],[m,y]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[v,[j,"Sony"],[m,q]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[j,v,[m,i]],[/android.+;\s(shield)\sbuild/i],[v,[j,"Nvidia"],[m,i]],[/(playstation\s[34portablevi]+)/i],[v,[j,"Sony"],[m,i]],[/(sprint\s(\w+))/i],[[j,w.str,n.device.sprint.vendor],[v,w.str,n.device.sprint.model],[m,q]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[j,v,[m,y]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[j,[v,/_/g," "],[m,q]],[/(nexus\s9)/i],[v,[j,"HTC"],[m,y]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[v,[j,"Huawei"],[m,q]],[/(microsoft);\s(lumia[\s\w]+)/i],[j,v,[m,q]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[v,[j,"Microsoft"],[m,i]],[/(kin\.[onetw]{3})/i],[[v,/\./g," "],[j,"Microsoft"],[m,q]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[v,[j,"Motorola"],[m,q]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[v,[j,"Motorola"],[m,y]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[j,b.trim],[v,b.trim],[m,l]],[/hbbtv.+maple;(\d+)/i],[[v,/^/,"SmartTV"],[j,"Samsung"],[m,l]],[/\(dtv[\);].+(aquos)/i],[v,[j,"Sharp"],[m,l]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[j,"Samsung"],v,[m,y]],[/smart-tv.+(samsung)/i],[j,[m,l],v],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[j,"Samsung"],v,[m,q]],[/sie-(\w+)*/i],[v,[j,"Siemens"],[m,q]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[j,"Nokia"],v,[m,q]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[v,[j,"Acer"],[m,y]],[/android.+([vl]k\-?\d{3})\s+build/i],[v,[j,"LG"],[m,y]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[j,"LG"],v,[m,y]],[/(lg) netcast\.tv/i],[j,v,[m,l]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[v,[j,"LG"],[m,q]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[v,[j,"Lenovo"],[m,y]],[/linux;.+((jolla));/i],[j,v,[m,q]],[/((pebble))app\/[\d\.]+\s/i],[j,v,[m,z]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[j,v,[m,q]],[/crkey/i],[[v,"Chromecast"],[j,"Google"]],[/android.+;\s(glass)\s\d/i],[v,[j,"Google"],[m,z]],[/android.+;\s(pixel c)\s/i],[v,[j,"Google"],[m,y]],[/android.+;\s(pixel xl|pixel)\s/i],[v,[j,"Google"],[m,q]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w?)?[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[v,/_/g," "],[j,"Xiaomi"],[m,q]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+)?)\s+build/i],[[v,/_/g," "],[j,"Xiaomi"],[m,y]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[v,[j,"Meizu"],[m,y]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[v,[j,"OnePlus"],[m,q]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[v,[j,"RCA"],[m,y]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[v,[j,"Dell"],[m,y]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[v,[j,"Verizon"],[m,y]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[j,"Barnes & Noble"],v,[m,y]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[v,[j,"NuVision"],[m,y]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[j,"ZTE"],v,[m,y]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[v,[j,"Swiss"],[m,q]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[v,[j,"Swiss"],[m,y]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[v,[j,"Zeki"],[m,y]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[j,"Dragon Touch"],v,[m,y]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[v,[j,"Insignia"],[m,y]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[v,[j,"NextBook"],[m,y]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[j,"Voice"],v,[m,q]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[j,"LvTel"],v,[m,q]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[v,[j,"Envizen"],[m,y]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[j,v,[m,y]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[v,[j,"MachSpeed"],[m,y]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[j,v,[m,y]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[v,[j,"Rotor"],[m,y]],[/android.+(KS(.+))\s+build/i],[v,[j,"Amazon"],[m,y]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[j,v,[m,y]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[m,b.lowerize],j,v],[/(android.+)[;\/].+build/i],[v,[j,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[x,[g,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[g,x],[/rv\:([\w\.]+).*(gecko)/i],[x,g]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[g,x],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[g,[x,w.str,n.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[g,"Windows"],[x,w.str,n.os.windows.version]],[/\((bb)(10);/i],[[g,"BlackBerry"],x],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[g,x],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[g,"Symbian"],x],[/\((series40);/i],[g],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[g,"Firefox OS"],x],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[g,x],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[g,"Chromium OS"],x],[/(sunos)\s?([\w\.]+\d)*/i],[[g,"Solaris"],x],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[g,x],[/(haiku)\s(\w+)/i],[g,x],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[x,/_/g,"."],[g,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[g,"Mac OS"],[x,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[g,x]]};p={bind:function(D,F,E,G){return null==G&&(G=!1),null!=document.addEventListener?D.addEventListener(F,E,G):null!=document.attachEvent?D.attachEvent("on"+F,function(){var H;return H=window.event,H.currentTarget=D,H.target=H.srcElement,E.call(D,H)}):D["on"+F]=E},hasAttr:function(D,E){return D.hasAttribute?D.hasAttribute(E):!!D[E]},path:function(){var D,F,E;return F=this.normalizePath(window.location.pathname),window._specter.hashtag&&(D=window.location.hash,F+=-1!==D.indexOf("?")?D.split("?")[0]:D),(null!=(E=window._specter)?E.pathCaseSensitive:void 0)?F:F.toLowerCase()},isObject:function(D){return D&&"object"==typeof D&&D.constructor===Object},isArray:function(D){return D&&"object"==typeof D&&D.constructor===Array},isString:function(D){return D&&"string"==typeof D&&D.constructor===String},isFunction:function(D){return D&&"function"==typeof D},isEmptyObject:function(D){var F,E;for(F in D){return E=D[F],!1}return !0},isUndefined:function(D){return"undefined"==typeof D},getKlassName:function(D,E){return null==E&&(E=this.detectIE()||0/0),8>E?D.className:D.getAttribute("class")},normalizePath:function(D){var E;return E=D.length,E>1&&"/"===D.charAt(E-1)?D.slice(0,E-1):D},identityWindow:function(){var D,E;return D=r(),E=this.getWindowSourceName(),E&&"scw"===E||(E="scw-inner-iframe"),window.sSource={name:E,id:D}},getWindowSourceName:function(){var D,E;return E=null!=window.self.name?window.self.name:window.name,E&&window.nameStorage&&(D=E.split(/[:?]/),3===D.length&&"nameStorage"===D[0]&&(E=D[1])),E},query:function(){var D,E;return D=window.location.search,D=D.length>1&&"?"===D.charAt(0)?D.slice(1):window._specter.hashtag&&-1!==window.location.hash.indexOf("?")?window.location.hash.split("?")[1]:D,(null!=(E=window._specter)?E.pathCaseSensitive:void 0)?D:D.toLowerCase()},parentOfLeafText:function(E){var H,G,J,D,I,F;if(J="",!E.childNodes){return""}for(F=E.childNodes,D=0,I=F.length;I>D;D++){H=F[D],3===H.nodeType&&(null!=H.textContent?G=H.textContent.trim():null!=H.data&&(G=H.data.trim()),G.length>0&&(J+=G+" "))}return J=J.replace(/[\n \t]+/g," ").trim(),J.length>0&&J.length<50?J:void 0},indexOf:function(E,G){var F,H,D;if(null!=Array.prototype.indexOf){return E.indexOf(G)}for(H=E.length,F=-1;++F<H;){if(D=E[F],D===G){return F}}return -1},detectIOS:function(){return !!window.navigator.userAgent.match(/(iPad|iPhone|iPod)/g)},detectIE:function(){var E,G,F,H,D;return D=window.navigator.userAgent,window.ActiveXObject&&(G=D.indexOf("MSIE "),G>0)?parseInt(D.substring(G+5,D.indexOf(".",G)),10):(H=D.indexOf("Trident/"),H>0?(F=D.indexOf("rv:"),parseInt(D.substring(F+3,D.indexOf(".",F)),10)):(E=D.indexOf("Edge/"),E>0?parseInt(D.substring(E+5,D.indexOf(".",E)),10):!1))},hashCode:function(D){var F,E,G;if(E=0,0===D.length){return E}for(G=0;G<D.length;){F=D.charCodeAt(G),E=(E<<5)-E+F,E&=E,G++}return E},sendRequest:function(D,F,E){var G;if(window.XMLHttpRequest){if(G=new XMLHttpRequest,"withCredentials" in G){return G.open("GET",D,!0),G.withCredentials=!0,G.onreadystatechange=function(){return 4===G.readyState?"function"==typeof F?F(G):void 0:"function"==typeof E?E(G):void 0},G.send()}if("undefined"!=typeof XDomainRequest){return G=new XDomainRequest,"http:"===document.location.protocol&&(D=D.replace("https://","http://")),G.open("GET",D),G.onload=function(H){return function(){return"function"==typeof F?F(G):void 0}}(this),G.onerror=function(H){return function(I){return"function"==typeof E?E(G):void 0}}(this),G.onprogress=function(){return{}},G.ontimeout=function(){return{}}}}},spreadToInnerIframes:function(E){var G,F,I,D,H;for(F=document.getElementsByTagName("iframe"),H=[],I=0,D=F.length;D>I;I++){G=F[I],H.push(this.spread(E,G))}return H},spread:function(D,F){var E;return E=null!=F?F.contentWindow:void 0,E?E.postMessage(D,"*"):void 0},currentSessionId:function(D){return null==D&&(D=window._specter.appkey),D||(D=window._specter.appkey),e.getItem("specter_sid_"+D)},assignObj:function(D,F){var E,G;for(E in F){G=F[E],D[E]=G}return D},getDocumentReferrer:function(D){var F,E;return E=D?D:document.referrer,(null!=(F=window._specter)?F.pathCaseSensitive:void 0)?E:E.toLowerCase()},each:function(I,H,G){if(I===null||I===undefined){return}if(Array.prototype.nativeForEach&&I.forEach===Array.prototype.nativeForEach){I.forEach(H,G)}else{if(I.length===+I.length){for(var F=0,D=I.length;F<D;F++){if(F in I&&H.call(G,I[F],F,I)==={}){return}}}else{for(var E in I){if(Object.prototype.hasOwnProperty.call(I,E)){if(H.call(G,I[E],E,I)==={}){return}}}}}},isSystemSource:function(){var E,D=window.navigator.userAgent;E={ios:D.indexOf("iOS-SpecterSDK")>-1,android:D.indexOf("Android-SpecterSDK")>-1};return E},getQueryParam:function(E,H){H=H.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var D="[\\?&]"+H+"=([^&#]*)",G=new RegExp(D),F=G.exec(E);if(F===null||(F&&typeof(F[1])!=="string"&&F[1].length)){return""}else{return decodeURIComponent(F[1]).replace(/\+/g," ")}},includes:function(E,D){return E.indexOf(D)!==-1},extend:function(D){this.each(Array.prototype.slice.call(arguments,1),function(E){for(var F in E){if(E[F]!==void 0){D[F]=E[F]}}});return D},strip_empty_properties:function(E){var D={};this.each(E,function(G,F){if(Object.prototype.toString.call(G)=="[object String]"&&G.length>0){D[F]=G}});return D},campaignParams:function(){var J="utm_source,utm_medium,utm_campaign,utm_content,utm_term".split(","),G,F,I="",D={};var K=window.customs.campaign;if(K){(G=K.split(","),J=J.concat(G))}this.each(J,function(M){I=p.getQueryParam(window.document.URL,M);if(I.length){D["$"+M]=I}else{D["$"+M]=""}});var E=e.getItem("specter_campaign_"+window._specter.appkey);var L;if(!F){try{L=window.location.hostname.split("."),F=["."+L.slice(-2).join("."),"."+L.slice(-3).join(".")]}catch(H){F=[window.location.hostname]}}if(null!=E){e.setItem("specter_campaign_"+window._specter.appkey,E,1800,"/",F);return JSON.parse(E)}else{e.setItem("specter_campaign_"+window._specter.appkey,JSON.stringify(D),1800,"/",F);return D}},searchEngine:function(D){if(D.search("https?://(.*)baidu.com")===0){return"baidu"}else{if(D.search("https?://(.*)so.com")===0){return"360"}else{if(D.search("https?://(.*)sogou.com")===0){return"sogou"}else{if(D.search("https?://(.*)haosou.com")===0){return"haosou"}else{if(D.search("https?://(.*)google.([^/?]*)")===0){return"google"}else{if(D.search("https?://(.*)bing.com")===0){return"bing"}else{if(D.search("https?://(.*)yahoo.com")===0){return"yahoo"}else{if(D.search("https?://(.*)sm.cn")===0){return"sm"}else{return""}}}}}}}}},searchKeyword:function(E){var D=this.searchEngine(E);if("360"===D||"google"===D||"haosou"===D||"bing"===D||"sm"===D){return this.getQueryParam(E,"q")}else{if("sogou"===D){return this.getQueryParam(E,"query")}else{if("yahoo"===D){return this.getQueryParam(E,"p")}else{return""}}}},browser:function(E){var D={name:"",version:""};w.rgx.call(D,E,k.browser);return D},os:function(D){var E={name:"",version:""};w.rgx.call(E,D,k.os);return E},device:function(D){var E={vendor:"",model:"",type:""};w.rgx.call(E,D,k.device);if(!E.vendor){E.vendor=this.os(window.navigator.userAgent).name}if(E.vendor==="android"){E.vendor="Android"}return E},referringDomain:function(E){var D=E.split("/");if(D.length>=3){return D[2]}return""},generateXPath:function(G){if(G.id!==""){return'//*[@id="'+G.id+'"]'}if(G==document.body){return"/html/"+G.tagName.toLowerCase()}var E=1,I=G.parentNode.childNodes;for(var F=0,D=I.length;F<D;F++){var H=I[F];if(H==G){return arguments.callee(G.parentNode)+"/"+G.tagName.toLowerCase()+"["+(E)+"]"}else{if(H.nodeType==1&&H.tagName==G.tagName){E++}}}},properties:function(){var D=this.campaignParams();var E={$title:document.title,$current_url:window.location.href,$domain:window.location.host,$path:this.path(),$referrer:document.referrer,$referrer_domain:this.referringDomain(document.referrer),$os:this.os(window.navigator.userAgent).name,$os_version:this.os(window.navigator.userAgent).version,$browser:this.browser(window.navigator.userAgent).name,$browser_version:this.browser(window.navigator.userAgent).version,$model:this.device(window.navigator.userAgent).vendor,$language:window.navigator.language,$screen_height:window.screen.height.toString(),$screen_width:window.screen.width.toString(),$scroll_height:document.documentElement.clientHeight.toString(),$scroll_width:document.documentElement.clientWidth.toString(),$sdk_version:"2.1.1",$platform:"web",$useragent:window.navigator.userAgent,$specter_ab:e.getItem("specter_ab"),$search_engine:this.searchEngine(document.referrer),$search_keyword:this.searchKeyword(document.referrer)};return this.strip_empty_properties(this.extend(E,D))}},d.exports=p},{"cookie":15,"guid":12,"local_store":13}],15:[function(e,a){var b=/^(\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.)/;var d={getItem:function(f){return f?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(f).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(g,j,f,l,i,k){if(!g||/^(?:expires|max\-age|path|domain|secure)$/i.test(g)){return !1}var h="";if(f){switch(f.constructor){case Number:h=f===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; expires="+new Date((new Date).getTime()+1000*f).toUTCString();break;case String:h="; expires="+f;break;case Date:h="; expires="+f.toUTCString()}}return document.cookie=encodeURIComponent(g)+"="+encodeURIComponent(j)+h+(i?"; domain="+i:"")+(l?"; path="+l:"")+(k?"; secure":""),!0},removeItem:function(f,h,g){return this.hasItem(f)?(document.cookie=encodeURIComponent(f)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(g?"; domain="+g:"")+(h?"; path="+h:""),!0):!1},hasItem:function(f){return f?new RegExp("(?:^|;\\s*)"+encodeURIComponent(f).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},keys:function(){for(var f=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),h=f.length,g=0;h>g;g++){f[g]=decodeURIComponent(f[g])}return f}},c={getItem:d.getItem,removeItem:d.removeItem,hasItem:d.hasItem,keys:d.keys,setItem:function(h,j,f,l,i,k){for(var g=0;g<i.length;g++){if(!b.test(i[g])){d.setItem(h,j,f,l,i[g],k);break}}}};a.exports=c},{}],16:[function(c,b){var a=function(){var d={base64Encode:function(m){var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var g,f,e,q,p,o,n,r,l=0,s=0,k="",j=[];if(!m){return m}m=this.utf8Encode(m);do{g=m.charCodeAt(l++);f=m.charCodeAt(l++);e=m.charCodeAt(l++);r=g<<16|f<<8|e;q=r>>18&63;p=r>>12&63;o=r>>6&63;n=r&63;j[s++]=h.charAt(q)+h.charAt(p)+h.charAt(o)+h.charAt(n)}while(l<m.length);k=j.join("");switch(m.length%3){case 1:k=k.slice(0,-2)+"==";break;case 2:k=k.slice(0,-1)+"=";break}return k},utf8Encode:function(h){h=(h+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var f="",l,e;var j=0,k;l=e=0;j=h.length;for(k=0;k<j;k++){var i=h.charCodeAt(k);var g=null;if(i<128){e++}else{if((i>127)&&(i<2048)){g=String.fromCharCode((i>>6)|192,(i&63)|128)}else{g=String.fromCharCode((i>>12)|224,((i>>6)&63)|128,(i&63)|128)}}if(g!==null){if(e>l){f+=h.substring(l,e)}f+=g;l=e=k+1}}if(e>l){f+=h.substring(l,h.length)}return f}};return d}();b.exports=a},{}],17:[function(j,e){var h,d,g,f,b=function(a,k){function i(){this.constructor=a}for(var l in k){c.call(k,l)&&(a[l]=k[l])}return i.prototype=k.prototype,a.prototype=new i,a.__super__=k.prototype,a},c={}.hasOwnProperty;h=j("core_dom_info"),d=j("user_info"),g=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return b(i,a),i.prototype.user=function(){return new d},i}(h),f=new g,e.exports=f},{"core_dom_info":8,"user_info":18}],18:[function(f,e){var b,d,c,a;d=f("cookie"),c=f("tools_guid"),a=f("tools_utils");b=function(){function g(){this.userId=null,this.sessionId=null,this.lastSessionId=null,this.cookie=d,this.guid=c,this.utils=a,this.cookieDomain()}return g.prototype.cookieDomain=function(){var h;if(!this.sCookieDomains){try{h=window.location.hostname.split("."),this.sCookieDomains=["."+h.slice(-2).join("."),"."+h.slice(-3).join(".")]}catch(i){this.sCookieDomains=[window.location.hostname]}}return this.sCookieDomains},g.prototype.fpid=function(){return null!=this.userId?this.userId:(this.userId=this.cookie.getItem("specter_fpid"),this.userId||(this.userId=this.guid(),this.cookie.setItem("specter_fpid",this.userId,94608000,"/",this.cookieDomain())),this.userId)},g.prototype.hasSid=function(){var h,i=+Date.now();return null!=this.sessionId&&null!=this.lastUpdated&&i-this.lastUpdated<900000?!0:(h=this.cookie.getItem("specter_sid_"+window._specter.appkey),h&&h===this.lastSessionId)},g.prototype.sid=function(){},g.prototype.sid=function(){this.sessionId=this.utils.currentSessionId();var h=+Date.now();return null!=this.sessionId&&null!=this.lastUpdated&&h-this.lastUpdated<60000?this.sessionId:(this.sessionId||(this.sessionId=this.guid()),this.updateSessionId(this.sessionId),this.sessionId)},g.prototype.updateSessionId=function(h,i){return i||(i=window._specter.appkey),this.lastUpdated=+Date.now(),this.lastSessionId=h,this.cookie.setItem("specter_sid_"+i,h,1800,"/",this.cookieDomain())},g}(),e.exports=b},{"tools_guid":12,"tools_utils":14,"cookie":15}],19:[function(g,c){var e,h,b,m,k,j=function(d,i){return function(){return d.apply(i,arguments)}},f=function(d,l){function i(){this.constructor=d}for(var o in l){a.call(l,o)&&(d[o]=l[o])}return i.prototype=l.prototype,d.prototype=new i,d.__super__=l.prototype,d},a={}.hasOwnProperty;h=g("observer_dom_observe"),m=g("sender"),e=g("base_launcher"),k=g("dom_info"),b=function(d){function i(){this.defaultSamplingFunc=j(this.defaultSamplingFunc,this);this.user=k.user();i.__super__.constructor.call(this);this.sender=new m(this.user,this.callback);this.observer=new h(this.sender.send,this.user,this)}return f(i,d),i.prototype.afterInitialize=function(){},i.prototype.defaultSamplingFunc=function(){var l,o,n;return n=this.user.fpid(),o=window._specter.sampling_ratio,l=parseInt(n.slice(-2),16)%o,0===l},i.prototype.beforeConnect=function(){return this.sender.setUrlMap(this.options)},i}(e),c.exports=b},{"base_launcher":2,"tools_utils":14,"dom_info":17,"observer_dom_observe":21,"sender":22,"mutation-observer":1}],20:[function(f){var b,c,j,e,h,a,d,i,g=[].slice;if(b=f("launcher"),e=new b){for(d=[],(null!=(i=window.specter)?i.m:void 0)&&(d=d.concat(window.specter.m)),j=0,h=d.length;h>j;j++){a=d[j],null!=e&&e.apply.apply(e,a)}c=function(){var k=1;return k<=arguments.length?g.call(arguments,0):[],e.apply.call(e,k)},c.push=function(){return arguments.length>1?e.apply.apply(e,arguments):e.apply.apply(e,arguments[0])},c.track=function(){e.track(arguments)},c.people=e.people,c.app=e.app,c.page=e.page,window.specter=c}},{"launcher":19}],21:[function(j,e){var h,d,g,f,b=function(a,k){function i(){this.constructor=a}for(var l in k){c.call(k,l)&&(a[l]=k[l])}return i.prototype=k.prototype,a.prototype=new i,a.__super__=k.prototype,a},c={}.hasOwnProperty;h=j("dom_observer"),f=j("dom_info"),d=function(a){function i(l,m,o,k){this.send=l,this.suser=m,this.launcher=o,this.TreeMirror=k,this.info=f,i.__super__.constructor.call(this,this.send,this.suser,this.launcher,this.TreeMirror)}return b(i,a),i.prototype.appendMessageAttrs=function(k,l){return l},i}(h),e.exports=d},{"dom_observer":10,"dom_info":17}],22:[function(j,e){var f,k,d,w,v,q,u,m,r,g=[].indexOf||function(a){for(var h=0,c=this.length;c>h;h++){if(h in this&&this[h]===a){return h}}return -1},b=function(a,c){return function(){return a.apply(c,arguments)}};q=j("base64"),r=j("tools_utils"),w=r.detectIE()||0/0,u=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),d=u?parseInt(u[2],10):!1,v=!1,d&&22>d?f=!1:(f=!0,m=navigator.userAgent,g.call(window,"ArrayBufferView")>=0||(-1!==m.indexOf("Android")?f=!1:-1!==m.indexOf("CPU OS ")?-1!==m.indexOf("CPU OS 6_")?f=!1:-1!==m.indexOf("CPU OS 5_")?f=!1:-1!==m.indexOf("CPU OS 4_")?f=!1:-1!==m.indexOf("CPU OS 3_")&&(f=!1):-1!==m.indexOf("CPU iPhone OS ")?-1!==m.indexOf("iPhone OS 6_")?f=!1:-1!==m.indexOf("iPhone OS 5_")?f=!1:-1!==m.indexOf("iPhone OS 4_")&&(f=!1):-1!==m.indexOf("Intel Mac OS X")&&(-1!==m.indexOf("Mac OS X 10_6")?f=!1:-1!==m.indexOf("Mac OS X 10_7")&&(f=!1)))),k=function(){function h(i,l){this.user=i,this.callback=l,this.send=b(this.send,this)}var a=[],c=[];return h.prototype.setUrlMap=function(i){return this.urlMap=this.getUrlMap(i)},h.prototype.getUrlMap=function(i){var l=i.scheme+i.host+"/collector/web/track";return{pv:l,action:l,code:l}},h.prototype.connect=function(i){return v=i.isBot,"function"==typeof this.callback?this.callback(this.user,this.send):void 0},h.prototype.send=function(o,p){var s;null==p&&(p="action");try{return this.sendRemote(JSON.stringify(o),p)}catch(l){return s=l,console.log(s)}},h.prototype.sendRemote=function(n,z){var y,K,H,s=r.isSystemSource();if(s.ios){var I,D=[];var F=JSON.parse(n);for(var C=0,A=F.length;C<A;C++){D.push("event="+F[C]["event"]);var G=F[C]["properties"];I=G.q;delete G.$appkey,delete G.$fpid,delete G.$session_id,delete G.$os,delete G.$os_version,delete G.$model,delete G.$language,delete G.is_new,delete G.$screen_height,delete G.$screen_width,delete G.$scroll_height,delete G.$scroll_width,delete G.q,delete G.$event_time,delete G.distinct_id;for(var J in G){if(J=="$elements"){D.push(J+"="+encodeURIComponent(JSON.stringify(G[J])))}else{D.push(J+"="+G[J])}}D.push("q="+encodeURIComponent(I));var p="specter://jstrack?"+D.join("&");var x;x=document.createElement("iframe");x.setAttribute("src",p);x.setAttribute("style","display:none;");x.setAttribute("height","0px");x.setAttribute("width","0px");x.setAttribute("frameborder","0");document.body.appendChild(x);x.parentNode.removeChild(x);x=null}return}if(s.android){try{var F=JSON.parse(n);for(var C=0,A=F.length;C<A;C++){var G=F[C]["properties"];delete G.$appkey,delete G.$fpid,delete G.$session_id,delete G.$os,delete G.$os_version,delete G.$model,delete G.$language,delete G.is_new,delete G.$screen_height,delete G.$screen_width,delete G.$scroll_height,delete G.$scroll_width,delete G.$event_time,delete G.distinct_id;app$$specter.track(F[C]["event"],JSON.stringify(G))}}catch(E){console.error(E)}return}var B="deviceType=WEB&data="+decodeURIComponent(q.base64Encode(n));if(H=this.urlMap[z],window.sWaitTime=+Date.now()+300,window.XMLHttpRequest&&7!==w&&!v){if(y=new XMLHttpRequest,"withCredentials" in y){return y.open("POST",H+"?stm="+ +Date.now(),!0),y.withCredentials=!0,y.onreadystatechange=function(i){return function(){return 4===y.readyState?(i.removeAjax(y),window.sWaitTime=+Date.now()+10):void 0}}(this),y.send(B),a.push(y)}if("undefined"!=typeof XDomainRequest){return y=new XDomainRequest,"http:"===document.location.protocol&&(H=H.replace("https://","http://")),y.open("POST",H+"?stm="+ +Date.now()),y.onload=function(i){return function(){return i.removeXDR(y)}}(this),y.onerror=function(i){return function(l){return i.removeXDR(y)}}(this),y.onprogress=function(){return{}},y.ontimeout=function(){return{}},y.send(B),c.push(y)}}else{if("http:"===document.location.protocol&&(H=H.replace("https://","http://")),K=H+"?"+B+"&stm="+ +Date.now(),K.length<=2036){return this.imgSend(K)}}},h.prototype.removeAjax=function(i){var l;return l=a.indexOf(i),-1!==l?a.splice(l,1):void 0},h.prototype.removeXDR=function(i){var l;return l=r.indexOf(c,i),-1!==l&&c.splice(l,1),window.sWaitTime=+Date.now()+10},h.prototype.imgSend=function(i){var l;return l=document.createElement("img"),l.width=1,l.height=1,l.onload=l.onerror=l.onabort=function(n){return function(){return l.onload=null,l.onerror=null,l.onabort=null,n.removeXDR(l)}}(this),l.src=i,c.push(l)},h}(),e.exports=k},{"tools_utils":14,base64:16}],},{},[20]);(function(){window.addEventListener("message",function(n){if(n.data._specter_web_event_circle_postMessage_type===null){return}switch(n.data._specter_web_event_circle_postMessage_type){case"circle_init":l();b(n.data._circle_xpaths);break;case"remove_circle_event":d(n.data._remove_xpaths);break;case"add_circle_event_callback":j(n.data.data);break;case"browse_mode":e(n.data.appKey);break;case"strengthen_event":m(n.data.xpath);break;case"regression_event":g(n.data.xpath);break;case"query_circle_event_callback":h(n.data._event_name);break;case"get_event_picture":f(n.data.xpath);break}},true);function e(v){var q=404;var o=window["_specter"];if(o&&o.appkey){q=o.appkey==v?200:201}var n=window.location.href;var s={_specter_web_event_circle_postMessage_type:"specter_introduce_flag",_introduce_flag:q,_location_url:n.indexOf("#")>=0?n.substring(0,n.indexOf("#")):n,};window.parent.postMessage(s,"*");if(q==200){var u=document.getElementById("specterWebEventCircleCss");if(u){u.remove();document.getElementById("specterWebEventCircleJs").remove();var r=document.getElementsByClassName("specter-circle-selection");for(var p=0;p<r.length;p++){r[p].classList.remove("specter-circle-selection")}}}window.addEventListener("hashchange",function(){var w=window.location.href;var x={_specter_web_event_circle_postMessage_type:"specter_introduce_flag",_introduce_flag:true,_location_url:w.indexOf("#")>=0?w.substring(0,w.indexOf("#")):w,};window.parent.postMessage(x,"*")})}function l(){var s=document.getElementById("specterWebEventCircleCss");if(!s){var n=document.getElementsByTagName("head")[0];var q=document.createElement("link");q.id="specterWebEventCircleCss";q.rel="stylesheet";q.type="text/css";q.href=("https:"==window.location.protocol?"https://":"http://")+"report.niwodai.com/collector/statics/Specter.Circle.min.css";n.appendChild(q)}var o=document.getElementById("specterWebEventCircleJs");if(!o){var n=document.getElementsByTagName("head")[0];var p=document.createElement("script");p.id="specterWebEventCircleJs";p.type="text/javascript";p.src=("https:"==window.location.protocol?"https://":"http://")+"report.niwodai.com/collector/statics/Specter.Circle.min.js";n.appendChild(p)}var r=document.getElementById("specterWebEventCircleJs_html2canvas");if(!r){var n=document.getElementsByTagName("head")[0];var p=document.createElement("script");p.id="specterWebEventCircleJs_html2canvas";p.type="text/javascript";p.src=("https:"==window.location.protocol?"https://":"http://")+"report.niwodai.com/collector/statics/html2canvas.min.js";n.appendChild(p)}}function j(p){var q=document.getElementsByClassName("specter_circle_event_mask")[0];if(p.flag==true){var o=document.getElementsByClassName("specter-circle-clicked")[0];o.classList.add("specter-circle-selection");o.setAttribute("specter_circle_event_name",p.eventName);q.remove()}else{var n=q.getElementsByClassName("sw_error_msg")[0];n.innerHTML=p.msg}}function b(n){for(var o=0;o<n.length;o++){var p=a(n[o].xpath);if(p){p.classList.add("specter-circle-selection");p.setAttribute("specter_circle_event_name",n[o].eventName)}}}function d(n){for(var o=0;o<n.length;o++){var p=a(n[o]);if(p){p.classList.remove("specter-circle-selection")}}}function h(n){var o=document.getElementsByClassName("specter_circle_event_mask");if(o){o[0].getElementsByTagName("input")[0].value=n}}function m(n){var p=a(n);if(p){document.body.scrollTop=document.documentElement.scrollTop=c(p)-(p.clientHeight+200);p.classList.add("specter-circle-strengthen");var o=document.getElementsByClassName("specter_circle_name_box")[0];o.getElementsByTagName("span")[0].innerText=p.getAttribute("specter_circle_event_name");o.style.top=c(p)+"px";o.style.left=i(p)+"px";o.style.display="block"}}function g(n){var o=a(n);if(o){o.classList.remove("specter-circle-strengthen");document.getElementsByClassName("specter_circle_name_box")[0].style.display="none"}}function c(n){var p=n.offsetTop;var o=n.offsetParent;while(o!==null){p+=o.offsetTop;o=o.offsetParent}return p}function i(n){var p=n.offsetLeft;var o=n.offsetParent;while(o!==null){p+=o.offsetLeft;o=o.offsetParent}return p}function f(n){var o=a(n);html2canvas(k(o),{allowTaint:true,taintTest:true,useCORS:true,background:"#ffffff",onrendered:function(q){var p=q.toDataURL();var r={_specter_web_event_circle_postMessage_type:"callback_event_picture",dataUrl:p,xpath:n,};window.parent.postMessage(r,"*")}})}function k(n){var o=n.parentNode;if(o.tagName=="body"){return n}n=o;if(n&&n.offsetHeight>=400&&n.offsetWidth>=700){return n}return arguments.callee(n)}function a(n){var q=document.evaluate(n,document,null,XPathResult.ANY_TYPE,null);var o=[];var p;while(p=q.iterateNext()){o.push(p)}return o[0]}})();
